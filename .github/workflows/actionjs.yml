name: CI-JS
on: 

  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

  workflow_dispatch:
jobs:
      runs-on: ubuntu-latest

      matrix:
        
        node-version: '14'

      steps:

        - uses: actions/checkout@v3

        - name : Use Node 14 
          working-directory: javascript/  
        - uses: actions/setup-node@v3
          with:
            node-version: '14'
            cache: 'npm'
        
        - run: npm CI-JS
        - run: npm run build --if-present
        - run: npm test 